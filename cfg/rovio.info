Common
{
	doVECalibration true
	depthType 1
	verbose false
	plotGroundtruth true
;	groundtruth_IrIJ_x 0.3474625
;	groundtruth_IrIJ_y -0.05786085
;	groundtruth_IrIJ_z -1.83597932
;	groundtruth_qJI_x 0.00678648
;	groundtruth_qJI_y 0.00079438
;	groundtruth_qJI_z 0.66660874
;	groundtruth_qJI_w 0.74537649
;	groundtruth_BrBC_x 0.037398
;	groundtruth_BrBC_y -0.01435803
;	groundtruth_BrBC_z -0.15262337
;	groundtruth_qCB_x 0.03148538
;	groundtruth_qCB_y -0.75895418
;	groundtruth_qCB_z 0.65020308
;	groundtruth_qCB_w 0.01526989

;	groundtruth_IrIJ_x 0.39889083
;	groundtruth_IrIJ_y -0.42714651
;	groundtruth_IrIJ_z -1.79669955
;	groundtruth_qJI_x -0.00677091
;	groundtruth_qJI_y 0.00507482
;	groundtruth_qJI_z 0.65284025
;	groundtruth_qJI_w 0.75744836
;	groundtruth_BrBC_x 0.05140955
;	groundtruth_BrBC_y -0.02567271
;	groundtruth_BrBC_z -0.14934007
;	groundtruth_qCB_x 0.74817318
;	groundtruth_qCB_y 0.20819096
;	groundtruth_qCB_z 0.1860421
;	groundtruth_qCB_w 0.60189846
	
;	groundtruth_IrIJ_x 0.02491386
;	groundtruth_IrIJ_y 0.97718927
;	groundtruth_IrIJ_z -0.10026628
;	groundtruth_qJI_x 0.003979
;	groundtruth_qJI_y 0.00218079
;	groundtruth_qJI_z -0.72867935
;	groundtruth_qJI_w 0.68484
;	groundtruth_BrBC_x 0.05699613
;	groundtruth_BrBC_y -0.07947096
;	groundtruth_BrBC_z -0.17027369
;	groundtruth_qCB_x 0.7582607
;	groundtruth_qCB_y 0.21252338
;	groundtruth_qCB_z 0.17864383
;	groundtruth_qCB_w 0.58988212
}
Camera0
{
	CalibrationFile /home/michael/calibrations/p22035_equidist.yaml ;Sammy11_02_2015_equidist.yaml ;p21012_equidist_190215.yaml; p22035_equidist.yaml
	qCM_x  0.0
	qCM_y  0.0
	qCM_z  0.7071
	qCM_w  0.7071
	MrMC_x 0
	MrMC_y 0
	MrMC_z 0
}
Camera1
{
	CalibrationFile /home/michael/calibrations/p22035_equidist_cam1.yaml
	qCM_x  0.0
	qCM_y  0.0
	qCM_z  0.7071
	qCM_w  0.7071
	MrMC_x 0
	MrMC_y 0
	MrMC_z 0
}
Init
{
    State
    {
        pos_0 0
        pos_1 0
        pos_2 0
        vel_0 0
        vel_1 0
        vel_2 0
        acb_0 0
        acb_1 0
        acb_2 0
        gyb_0 0
        gyb_1 0
        gyb_2 0
        att_x 0
        att_y 0
        att_z 0
        att_w 1
    }
    Covariance
    {
        pos_0 0.0001
        pos_1 0.0001
        pos_2 0.0001
        vel_0 1.0
        vel_1 1.0
        vel_2 1.0
        acb_0 4e-4
        acb_1 4e-4
        acb_2 4e-4
        gyb_0 3e-4
        gyb_1 3e-4
        gyb_2 3e-4
        vep_0 0.01
        vep_1 0.01
        vep_2 0.01
        vep_3 0.01
        vep_4 0.01
        vep_5 0.01
        att_0 0.1
        att_1 0.1
        att_2 0.1
        vea_0 0.01
        vea_1 0.01
        vea_2 0.01
        vea_3 0.01
        vea_4 0.01
        vea_5 0.01
    }
}
Update0
{
    doPatchWarping true
    doFrameVisualisation true
    useDirectMethod true
    maxNumIteration 10
    startLevel 3
    endLevel 0
    nDetectionBuckets 100
    MahalanobisTh 5.8858356 ;5.8858356
    UpdateNoise
    {
        nor 4 ; rad (~1/f ~ 1/400^2 = 1/160000)
    }
    alpha 0.001
    beta 2
    kappa 0
    updateVecNormTermination 1e-06
    initCovFeature_0 0.5
    initCovFeature_1 1e-5
    initCovFeature_2 1e-5
    initDepth 0.5
    startDetectionTh 0.9
    scoreDetectionExponent 0.25
    penaltyDistance 100
    zeroDistancePenalty 100
    trackingLocalRange 10
    trackingLocalVisibilityRange 100
    trackingUpperBound 0.9
    trackingLowerBound 0.1
    minTrackedAndFreeFeatures 0.7
    minRelativeSTScore 0.75
    minAbsoluteSTScore 5.0
    fastDetectionThreshold 10
    matchingPixelThreshold 0.0
    specialLinearizationThreshold 0.0025 ; (set to 0 for always, and to large value for never, 1 pixel ~ 0.0025)
    patchRejectionTh 10.0;
    removeNegativeFeatureAfterUpdate true;
    maxUncertaintyToDepthRatioForDepthInitialization 0.3 ; if set to 0.0 the depth is initialized with the standard value provided above, otherwise ROVIO attempts to figure out a median depth in the frame
    rateOfMovingFeaturesTh 0.5;
    pixelCoordinateMotionTh 1.0;
    minFeatureCountForNoMotionDetection 5;
    minTimeForZeroVelocityUpdate 1000000.0;
    ZeroVelocityUpdate
    {
        maxNumIteration 10
        UpdateNoise
        {
            vel_0 0.01
            vel_1 0.01
            vel_2 0.01
        }
        alpha 0.001
        beta 2
        kappa 0
        updateVecNormTermination 1e-06
        MahalanobisTh0 7.689997599999999
    }
}
Prediction
{
    PredictionNoise
    {
        pos_0 1e-4
        pos_1 1e-4
        pos_2 1e-4
        vel_0 4e-5 ;4e-6
        vel_1 4e-5
        vel_2 4e-5
        acb_0 1e-8
        acb_1 1e-8
        acb_2 1e-8
        gyb_0 3.8e-7
        gyb_1 3.8e-7
        gyb_2 3.8e-7
        vep_0 1e-8
        vep_1 1e-8
        vep_2 1e-8
        vep_3 1e-8
        vep_4 1e-8
        vep_5 1e-8
        att_0 7.6e-6 ;7.6e-7
        att_1 7.6e-6
        att_2 7.6e-6
        vea_0 1e-8
        vea_1 1e-8
        vea_2 1e-8
        vea_3 1e-8
        vea_4 1e-8
        vea_5 1e-8
        dep 0.000001 ; m/sqrt(dt)
        nor 0.0001 ; rad/sqrt(dt)
    }
    alpha 0.001
    beta 2
    kappa 0
    inertialMotionRorTh 0.1
    inertialMotionAccTh 0.5
}
